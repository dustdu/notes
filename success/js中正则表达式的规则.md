---
title: js中正则表达式的规则
date: 2017-07-06 15:22:43
tags: 
    - javascript
    - 正则表达式
categories: javascript
thumbnail: 
---
# 正则表达式（Regular Expression）
正则表达式，又称为规则表达式。（在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表通常被用来检索、替换那些符合某个模式(规则)的文本。并**不是js所独有的**，他是独立与任何语言之外的，很多的编程语言都支持使用正则规则对字符串进行一些复杂的操作。

## js中的正则表达式
正则在js中是以对象的形式存在的，和日期对象，数组对象类似。  

- (正则) : 子项
	- 范围(提权)
	- 会在结果中保留（提供）子项当前匹配的内容
	- 解析从左至右，从外至里  也可以  根据 ( 出现的顺序来
- | : 或
- html实体
	- xss跨站脚本攻击

### 创建正则对象的方式
- 传统：new RegExp(pattern,attributes);
	- pattern会被默认先进行解析，然后把解析后的字符串作为参数传给正则对象
- 简写：/pattern/attributes
	- pattern是不会被js作为特殊数据解析的，比如变量，如果我们的正则中有通过变量来表示的内容，那么简写的方式就不适合了
- pattern参数接收字符串，字符串：正则规则的内容
- [a-z] 按照阿斯科马计算，a到z之间的任意一个

### RegExp 对象方法
|方法|	描述|	FF|	IE|
|---|---|---|---|
|compile|	编译正则表达式。|	1|	4|
|exec|	检索字符串中指定的值。返回找到的值，并确定其位置。|	1|	4|
|test|	正则.test(字符串)<br>检测参数字符串中是否包含有正则对象所匹配的内容，如果有返回true，如果没有返回false|	1|	4|

### 支持正则表达式的 String 对象的方法
|方法|	描述|	FF|	IE|
|---|---|---|---|
|search|	- 字符串.search(字符串/正则)<br>- 查找参数的内容在前面字符串中首次出现的位置，如果没有返回-1<br>- 和indexOf很类似，但是indexOf参数只支持字符串，search还可以支持正则|	1|	4|
|match|	- 字符串.match(正则)<br>- 在字符串中查找和参数匹配的内容，并保存到一个数组中返回<br>- 懒惰模式进行内容匹配，当找到一个匹配结果的时候，就终止继续执行<br>- 使用修饰符g，进行全局查找|	1|	4|
|replace|	- 字符串.replace(要查找的内容, 要替换的内容)<br>- 在前面的字符串中查找第一个参数指定的内容，并用第二个参数的内容进行替换<br>- 第一个参数：既可以接收普通的字符串，也可以接收正则对象<br>- 第二个参数：既可以接收普通的字符串，还可以接收一个函数（回调）<br>- 第二个参数为函数时的参数可以有多个，第一个参数为当前整个正则所匹配的内容，其他的分别为正则子项匹配的内容|	1|	4|
|split|	把字符串分割为字符串数组。|	1|	4|

### 修饰符（对正则表达式内容的强调与说明）
|修饰符|	描述|
|---|---|
|i|	执行对大小写不敏感的匹配。（忽略大小写）|
|g|	执行全局匹配（查找所有匹配而非在找到第一个匹配后停止）。|
|m|	执行多行匹配。|

### 量词
|量词|	描述|
|---|---|
|n+|	+的前一个规则最少匹配一次，最多不限(匹配任何包含至少一个 n 的规则)。<br>贪婪模式：当一组结果中的内容有多个满足的时候，正则会选择最大化的结果作为最终结果|
|n*|	匹配任何包含零个或多个 n 的字符串。|
|n?|	匹配任何包含零个或一个 n 的字符串。|
|n{X}|	匹配包含 X 个 n 的序列的字符串|
|n{X,Y}|	匹配包含 X 至 Y 个 n 的序列的字符串。|
|n{X,}|	匹配包含至少 X 个 n 的序列的字符串。|
|\\{n}|重复第n个子项匹配的内容（{n}表示的是一个数字 1 2 3...）|
|n$|	匹配任何结尾为 n 的字符串。|
|^n|	匹配任何开头为 n 的字符串。|
|?=n|	匹配任何其后紧接指定字符串 n 的字符串。|
|?!n|	匹配任何其后没有紧接指定字符串 n 的字符串。|

### 元字符（元字符（Metacharacter）是拥有特殊含义的字符）
|元字符|	描述|
|---|---|
|.|	查找单个字符，除了换行和行结束符。|
|\w|	查找单词字符（字母数字下划线）|
|\W|	查找非单词字符。|
|\d|	查找数字。|
|\D|	查找非数字字符。|
|\s|	查找空白字符。|
|\S|	查找非空白字符。|
|\b|	匹配单词边界（如果一个字母数字下划线的左侧或右侧不在是一个字母数字下划线，那么这里就会有一个符号：边界符）|
|\B|	匹配非单词边界（一个非边界符）|
|\0|	查找 NUL 字符。|
|\n|	查找换行符。|
|\f|	查找换页符。|
|\r|	查找回车符。|
|\t|	查找制表符。|
|\v|	查找垂直制表符。|
|\xxx|	查找以八进制数 xxx 规定的字符。|
|\xdd|	查找以十六进制数 dd 规定的字符。|
|\uxxxx|	查找以十六进制数 xxxx 规定的 Unicode 字符。|

### 方括号（用于查找某个范围内的字符）
|表达式|	描述|
|---|---|
|[abc]|	- 查找方括号之间的任何字符（匹配其中的一个|
|[^abc]|	^ 在 [ ] 中使用，表示反向选择的意思，只能在 [] 的开始|
|[0-9]|	查找任何从 0 至 9 的数字。按照ASCII|
|[a-z]|	查找任何从小写 a 到小写 z 的字符。|
|[A-Z]|	查找任何从大写 A 到大写 Z 的字符。|
|[A-z]|	查找任何从大写 A 到小写 z 的字符。|
|[adgk]|	查找给定集合内的任何字符。|
|[^adgk]|	查找给定集合外的任何字符。|
|(red &#124; blue &#124; green)|	查找任何指定的选项。|
